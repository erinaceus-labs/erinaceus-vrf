# erinaceus-vrf-oracle
Erinaceus VRF is a Verifiable Random Function (VRF) solution that enables blockchain developers to generate random numbers.


**Erinaceus VRF solution consists of 2 components**

On-chain component: A contract(RNG Manager contract) designed to interact with the provider service. It emits an event when a request for randomness is made, and then verifies the random number and proof of how it was generated by the service.
Off-chain component: Provider service listens for requests by subscribing to the RNG Manager contract event logs and calculates a random number based on the block hash and nonce. Then sends a transaction to the RNG Manager including the random number and a proof of how it was generated.


**There are 2 main methods to pay for the RNG solution: subscription and direct funding**

*Subscription*

Create a subscription account and fund its balance with wFTN tokens. Users can then connect multiple consuming contracts to the subscription account. When the consuming contracts request randomness, the transaction costs are calculated after the randomness requests are fulfilled and the subscription balance is deducted accordingly.  After the request is complete, the final gas cost is recorded based on how much gas is used for the verification and callback. The actual cost of the request is deducted from your subscription balance.

Billing

When it comes to generating random numbers, there are three fees that you should be aware of. The first fee is the gas fee required for the consumer to initiate a random number request. The second fee is a service fee charged by Erinaceus Oracles for the work of random number generation. The third fee is a gas fee required to fulfil the request. The gas price depends on current network conditions. The callback gas depends on your callback function, and the number of random values in your request.

(Gas price * (Verification gas + Callback gas)) = total gas cost

(total gas cost + service fee) = total request cost


*Direct Funding*

Consuming contracts directly pay with wFTN when they request random values. You must directly fund your consumer contracts and ensure that there are enough wFTN tokens to pay for randomness requests. Works best when end-users must pay the fees for RNG because the cost of the request is determined at request time. Because the consuming contract directly pays the wFTN for the request, the cost is calculated during the request and not during the callback when the randomness is fulfilled.

Billing

Because the consuming contract directly pays for the request, the cost is calculated during the request and not during the callback when the randomness is fulfilled. Test your callback function to learn how to correctly estimate the callback gas limit.

(Gas price * (Verification gas + Callback gas limit + Wrapper gas overhead)) = total gas cost

(total gas cost + service fee) = total request cost

FOR MORE DETAILS PLEASE VISIT [docs](https://erinaceus.io/docs/vrf/overview)
